<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>OpenCV.ImgProc.FeatureDetection</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_OpenCV-ImgProc-FeatureDetection.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/OpenCV-ImgProc-FeatureDetection.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">opencv-0.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">OpenCV.ImgProc.FeatureDetection</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:canny">canny</a> :: <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="OpenCV-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[w, h]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>) -&gt; <a href="OpenCV-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[h, w]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>))</li><li class="src short"><a href="#v:houghCircles">houghCircles</a> :: <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="OpenCV-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[w, h]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>) -&gt; <a href="file:///nix/store/vwaakli46r64p2gadrv8afcqdrlrkvq9-vector-0.11.0.0/share/doc/x86_64-linux-ghc-7.10.3/vector-0.11.0.0/html/Data-Vector.html#t:Vector">Vector</a> <a href="OpenCV-ImgProc-FeatureDetection.html#t:Circle">Circle</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Circle">Circle</a> = <a href="#v:Circle">Circle</a> {<ul class="subs"><li><a href="#v:circleCenter">circleCenter</a> :: <a href="file:///nix/store/1jrqlnwqxs5r878mgwih5nsjipiwn6kj-linear-1.20.4/share/doc/x86_64-linux-ghc-7.10.3/linear-1.20.4/html/Linear-V2.html#t:V2">V2</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a></li><li><a href="#v:circleRadius">circleRadius</a> :: <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a></li></ul>}</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:canny" class="def">canny</a> <a href="src/OpenCV-ImgProc-FeatureDetection.html#canny" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>First threshold for the hysteresis procedure.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>Second threshold for the hysteresis procedure.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>Aperture size for the <code>Sobel()</code> operator. If not specified defaults
 to <code>3</code>.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc"><p>A flag, indicating whether a more accurate L2 norm should be used.
 If <code><a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#v:False">False</a></code> or <code><a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> the default L1 norm will be used.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[w, h]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>)</td><td class="doc"><p>Single-channel 8-bit input image.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[h, w]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Finds edges in an image using the
<a href="http://docs.opencv.org/2.4/modules/imgproc/doc/feature_detection.html#canny86">Canny86</a>
algorithm.</p><p>Example:</p><pre>cannyImg
    :: forall shape channels depth
     . (Mat shape channels depth ~ Lambda)
    =&gt; Mat shape ('S 1) depth
cannyImg = exceptError $
  canny 30 200 Nothing Nothing lambda
</pre><p><img src="doc/generated/examples/cannyImg.png" title="cannyImg" /></p></div></div><div class="top"><p class="src"><a name="v:houghCircles" class="def">houghCircles</a> <a href="src/OpenCV-ImgProc-FeatureDetection.html#houghCircles" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>Inverse ratio of the accumulator resolution to the image resolution.
 For example, if <code>dp=1</code>, the accumulator has the same resolution as the
 input image. If <code>dp=2</code>, the accumulator has half as big width and height.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>Minimum distance between the centers of the detected circles. If the
 parameter is too small, multiple neighbor circles may be falsely
 detected in addition to a true one. If it is too large, some circles may
 be missed.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>The higher threshold of the two passed to the <code><a href="OpenCV-ImgProc-FeatureDetection.html#v:canny">canny</a></code> edge detector
 (the lower one is twice smaller). Default is 100.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>The accumulator threshold for the circle centers at the detection
 stage. The smaller it is, the more false circles may be detected.
 Circles, corresponding to the larger accumulator values, will be returned
 first. Default is 100.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>Minimum circle radius.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>Maximum circle radius.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[w, h]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/vwaakli46r64p2gadrv8afcqdrlrkvq9-vector-0.11.0.0/share/doc/x86_64-linux-ghc-7.10.3/vector-0.11.0.0/html/Data-Vector.html#t:Vector">Vector</a> <a href="OpenCV-ImgProc-FeatureDetection.html#t:Circle">Circle</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Finds circles in a grayscale image using a modification of the Hough
transformation.</p><p>Example:</p><pre>houghCircleTraces
    :: forall (width    :: Nat)
              (height   :: Nat)
              (channels :: Nat)
              (depth    :: *)
     . (Mat (ShapeT [height, width]) ('S channels) ('S depth) ~ Circles_1000x625)
    =&gt; Mat (ShapeT [height, width]) ('S channels) ('S depth)
houghCircleTraces = exceptError $ do
  imgG &lt;- cvtColor bgr gray circles_1000x625
  let circles = houghCircles 1 10 Nothing Nothing Nothing Nothing imgG
  withMatM (Proxy :: Proxy [height, width])
           (Proxy :: Proxy channels)
           (Proxy :: Proxy depth)
           white $ imgM -&gt; do
    void $ matCopyToM imgM (V2 0 0) circles_1000x625 Nothing
    forM_ circles $ c -&gt; do
      circle imgM (round &lt;$&gt; circleCenter c :: V2 Int32) (round (circleRadius c)) blue 1 LineType_AA 0
</pre><p><img src="doc/generated/examples/houghCircleTraces.png" title="houghCircleTraces" /></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Circle" class="def">Circle</a> <a href="src/OpenCV-ImgProc-FeatureDetection.html#Circle" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Circle" class="def">Circle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:circleCenter" class="def">circleCenter</a> :: <a href="file:///nix/store/1jrqlnwqxs5r878mgwih5nsjipiwn6kj-linear-1.20.4/share/doc/x86_64-linux-ghc-7.10.3/linear-1.20.4/html/Linear-V2.html#t:V2">V2</a> <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:circleRadius" class="def">circleRadius</a> :: <a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Circle" class="caption collapser" onclick="toggleSection('i:Circle')">Instances</p><div id="section.i:Circle" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/n962p1idgzh07wvhxam5r6icv894kj61-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="OpenCV-ImgProc-FeatureDetection.html#t:Circle">Circle</a></span> <a href="src/OpenCV-ImgProc-FeatureDetection.html#line-101" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>